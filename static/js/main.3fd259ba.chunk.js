(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(62),o=a.n(r),l=(a(73),a(5)),c=a(6),s=a(8),u=a(7),d=a(9),p=a(67),m=a(46),k=a(31),C=a.n(k),b=a(47),g=a.n(b),f=function(e){return i.a.createElement("button",{disabled:e.buttonIsDisabled,onClick:e.clicked,className:[g.a.Button,g.a[e.buttonColor]].join(" ")},e.buttonText)},_=a(23),h=a.n(_),j=function(e){return i.a.createElement("div",{className:[h.a.ImageContainer,"green"===e.containerColor?h.a.ImageContainer__green:null,"blue"===e.containerColor?h.a.ImageContainer__blue:null,"red"===e.containerColor?h.a.ImageContainer__red:null].join(" ")},e.children)},O=a(1),B=a.n(O),v=(a(30),function(e,t,a,n){return{containerColor:e,isClickedGreen:t,isClickedBlue:a,isClickedRed:n}}),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={containerColor:"",isClickedGreen:!1,isClickedBlue:!1,isClickedRed:!1},a.buttonClickHandler=function(e){switch(e){case"green":a.setState(function(e){var t="green";return!0===e.isClickedGreen&&(t=""),B.a.database().ref("".concat(a.props.userName,"/").concat(a.props.caption[0])).update(v(t,!e.isClickedGreen,!1,!1)),v(t,!e.isClickedGreen,!1,!1)});break;case"blue":a.setState(function(e){var t="blue";return!0===e.isClickedBlue&&(t=""),B.a.database().ref("".concat(a.props.userName,"/").concat(a.props.caption[0])).update(v(t,!1,!e.isClickedBlue,!1)),v(t,!1,!e.isClickedBlue,!1)});break;case"red":a.setState(function(e){var t="red";return!0===e.isClickedRed&&(t=""),B.a.database().ref("".concat(a.props.userName,"/").concat(a.props.caption[0])).update(v(t,!1,!1,!e.isClickedRed)),v(t,!1,!1,!e.isClickedRed)})}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){for(var e in this.props.imagesDataObj)if(e===this.props.caption[0]){var t="";this.props.imagesDataObj[e].isClickedGreen&&(t="green"),this.props.imagesDataObj[e].isClickedBlue&&(t="blue"),this.props.imagesDataObj[e].isClickedRed&&(t="red"),this.setState(v(t,this.props.imagesDataObj[e].isClickedGreen,this.props.imagesDataObj[e].isClickedBlue,this.props.imagesDataObj[e].isClickedRed))}}},{key:"componentDidUpdate",value:function(){this.props.imagesDataObj[this.props.caption[0]].isClickedGreen!==this.state.isClickedGreen&&this.setState({isClickedGreen:this.props.imagesDataObj[this.props.caption[0]].isClickedGreen,containerColor:this.props.imagesDataObj[this.props.caption[0]].containerColor}),this.props.imagesDataObj[this.props.caption[0]].isClickedBlue!==this.state.isClickedBlue&&this.setState({isClickedBlue:this.props.imagesDataObj[this.props.caption[0]].isClickedBlue,containerColor:this.props.imagesDataObj[this.props.caption[0]].containerColor}),this.props.imagesDataObj[this.props.caption[0]].isClickedRed!==this.state.isClickedRed&&this.setState({isClickedRed:this.props.imagesDataObj[this.props.caption[0]].isClickedRed,containerColor:this.props.imagesDataObj[this.props.caption[0]].containerColor})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(j,{containerColor:this.state.containerColor},i.a.createElement("figure",null,i.a.createElement("img",{className:C.a.Image,src:this.props.src,alt:this.props.caption[0]}),i.a.createElement("figcaption",{className:C.a.Image__title},this.props.caption[0])),i.a.createElement("div",{className:C.a.Image__selectionButtons},i.a.createElement(f,{clicked:function(){return e.buttonClickHandler("green")},buttonText:"Tak",buttonColor:"Button__green"}),i.a.createElement(f,{clicked:function(){return e.buttonClickHandler("blue")},buttonText:"Mo\u017ce",buttonColor:"Button__blue"}),i.a.createElement(f,{clicked:function(){return e.buttonClickHandler("red")},buttonText:"Nie",buttonColor:"Button__red"}))))}}]),t}(n.Component),y=function(e){var t,a=[],n=e.imagesDataObj;if(null!==n){var r,o=[],l=e.filterButtonsState.notSelectedClicked,c=e.filterButtonsState.allClicked,s=e.filterButtonsState.greenClicked,u=e.filterButtonsState.blueClicked,d=e.filterButtonsState.redClicked;for(var p in n)o.push(Object(m.a)({},p,n[p]));r=!!(!c&!l&!s&!u&!d);var k=o.filter(function(e){var t=s?e[Object.keys(e)].isClickedGreen:null,a=u?e[Object.keys(e)].isClickedBlue:null,n=d?e[Object.keys(e)].isClickedRed:null,i=!!c||null;return(l?!e[Object.keys(e)].isClickedGreen&&!e[Object.keys(e)].isClickedBlue&&!e[Object.keys(e)].isClickedRed:null)||t||a||n||r||i}).map(function(e){return Object.keys(e)[0]});for(var C in n){var b=n[C].path;a.push(b)}t=k.reduce(function(e,t){var n=a.filter(function(e){return new RegExp(t,"g").test(e)});return e.concat(Object(m.a)({},t,n[0]))},[]).map(function(t){return i.a.createElement(E,{key:Object.keys(t),src:Object.values(t),caption:Object.keys(t),imagesDataObj:n,userName:e.userName})})}return i.a.createElement(i.a.Fragment,null,t)},S=a(63),D=a.n(S),I=function(e){var t=function t(a){var n=0;switch(a){case"green":for(var i in e.imagesDataObj)!0===e.imagesDataObj[i].isClickedGreen&&n++;return n;case"blue":for(var r in e.imagesDataObj)!0===e.imagesDataObj[r].isClickedBlue&&n++;return n;case"red":for(var o in e.imagesDataObj)!0===e.imagesDataObj[o].isClickedRed&&n++;return n;case"wszystkie":for(var l in e.imagesDataObj)l&&n++;return n;case"niezaznaczone":return t("wszystkie")-t("green")-t("blue")-t("red");default:return null}};return t(),i.a.createElement("div",{className:D.a.Counter},i.a.createElement("p",null,"TAK: ",t("green")," "),i.a.createElement("p",null,"MO\u017bE: ",t("blue")),i.a.createElement("p",null,"NIE: ",t("red")),i.a.createElement("p",null,"WSZYSTKIE: ",t("wszystkie")),i.a.createElement("p",null,"NIEZAZNACZONE: ",t("niezaznaczone")))},N=a(64),w=a.n(N),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={greenClicked:!1,blueClicked:!1,redClicked:!1,allClicked:!1,notSelectedClicked:!1,anyButtonClicked:!1},a.buttonClickHandler=function(e){switch(e){case"greenClicked":a.setState(function(e){return{greenClicked:!e.greenClicked,allClicked:!1,notSelectedClicked:!1,anyButtonClicked:!0}});break;case"blueClicked":a.setState(function(e){return{blueClicked:!e.blueClicked,allClicked:!1,notSelectedClicked:!1,anyButtonClicked:!0}});break;case"redClicked":a.setState(function(e){return{redClicked:!e.redClicked,allClicked:!1,notSelectedClicked:!1,anyButtonClicked:!0}});break;case"allClicked":a.setState(function(e){return{greenClicked:!1,blueClicked:!1,redClicked:!1,allClicked:!0,notSelectedClicked:!1,anyButtonClicked:!0}});break;case"notSelectedClicked":a.setState(function(e){return{greenClicked:!1,blueClicked:!1,redClicked:!1,allClicked:!1,notSelectedClicked:!0,anyButtonClicked:!0}})}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.state.anyButtonClicked&&(this.props.filterButtonsState(this.state),this.setState({anyButtonClicked:!1}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:w.a.Filter},i.a.createElement(f,{clicked:function(){return e.buttonClickHandler("greenClicked")},buttonText:"tak",buttonColor:"Button__green"}),i.a.createElement(f,{clicked:function(){return e.buttonClickHandler("blueClicked")},buttonText:"mo\u017ce",buttonColor:"Button__blue"}),i.a.createElement(f,{clicked:function(){return e.buttonClickHandler("redClicked")},buttonText:"nie",buttonColor:"Button__red"}),i.a.createElement(f,{clicked:function(){return e.buttonClickHandler("allClicked")},buttonText:"wszystkie",buttonColor:""}),i.a.createElement(f,{clicked:function(){return e.buttonClickHandler("notSelectedClicked")},buttonText:"niezaznaczone",buttonColor:""}))}}]),t}(n.Component),x=a(65),T=a.n(x),G=function(e){return i.a.createElement("div",{className:T.a.Reset},i.a.createElement(f,{clicked:function(){for(var t in e.imagesDataObj)B.a.database().ref("".concat(e.userName,"/").concat(t)).update({containerColor:"",isClickedBlue:!1,isClickedGreen:!1,isClickedRed:!1})},buttonText:"Reset"}))},H=a(66),z=a.n(H),U=function(e){return i.a.createElement("div",{className:z.a.Layout},e.children)},A=(a(61),a(48)),L=a.n(A),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={userName:"Marcin",imagesDataObj:null,selectedfiles:null,buttonIsDisabled:!0,filterButtonsState:!1},a.selectImageHandler=function(e){a.setState({selectedfiles:e.target.files,buttonIsDisabled:!1})},a.uploadHandler=function(){var e=a.state.selectedfiles,t={contentType:"image/jpeg"},n=B.a.storage().ref();Object(p.a)(e).forEach(function(e,i){var r=n.child("images/"+e.name).put(e,t);r.on(B.a.storage.TaskEvent.STATE_CHANGED,function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload ("+i+") is: "+Math.round(t)+"%")},function(e){switch(e.code){case"storage/unauthorized":console.log("No permission");break;case"storage/canceled":console.log("Stopped upload");break;case"storage/unknown":console.log("Unknown error")}},function(){var e=r.snapshot.ref.name.replace(".jpg","");r.snapshot.ref.getDownloadURL().then(function(t){B.a.database().ref(a.state.userName+"/").child(e).set({containerColor:"",path:t,isClickedGreen:!1,isClickedBlue:!1,isClickedRed:!1})})})})},a.filterButtonsStateHandler=function(e){a.setState({filterButtonsState:e})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.a.database().ref().child(this.state.userName).on("value",function(t){if(t.exists()){var a=t.val();e.setState({imagesDataObj:a})}})}},{key:"render",value:function(){return i.a.createElement(U,null,i.a.createElement("div",{className:L.a.Uploader},i.a.createElement("h1",null,this.state.userName),i.a.createElement("input",{type:"file",multiple:!0,onChange:this.selectImageHandler}),i.a.createElement(f,{clicked:this.uploadHandler,buttonText:"UPLOAD",buttonColor:"Button__green",buttonIsDisabled:this.state.buttonIsDisabled}),i.a.createElement(I,{imagesDataObj:this.state.imagesDataObj}),i.a.createElement(R,{filterButtonsState:this.filterButtonsStateHandler}),i.a.createElement(G,{userName:this.state.userName,imagesDataObj:this.state.imagesDataObj}),i.a.createElement("div",{className:L.a.Uploader__imagesContainer},i.a.createElement(y,{images:this.state.picturesPaths,titles:this.state.picturesTitles,imagesDataObj:this.state.imagesDataObj,userName:this.state.userName,filterButtonsState:this.state.filterButtonsState,reset:this.state.reset}))))}}]),t}(n.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(M,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));B.a.initializeApp({apiKey:"AIzaSyB05MIkrZq52LQIiRrC1nFsUp7hkBG3odc",authDomain:"upload-images-69afc.firebaseapp.com",databaseURL:"https://upload-images-69afc.firebaseio.com",projectId:"upload-images-69afc",storageBucket:"upload-images-69afc.appspot.com",messagingSenderId:"419462563824"}),o.a.render(i.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},23:function(e,t,a){e.exports={ImageContainer:"ImageContainer_ImageContainer__3h35j",ImageContainer__green:"ImageContainer_ImageContainer__green__3X58B",ImageContainer__blue:"ImageContainer_ImageContainer__blue__3NS-X",ImageContainer__red:"ImageContainer_ImageContainer__red__27ku3"}},31:function(e,t,a){e.exports={Image:"Image_Image__2rN34",Image__title:"Image_Image__title__2vuPL",Image__selectionButtons:"Image_Image__selectionButtons__B1sfM"}},47:function(e,t,a){e.exports={Button:"Button_Button__chNl1",Button__green:"Button_Button__green__2BtT-",Button__blue:"Button_Button__blue__1SR39",Button__red:"Button_Button__red__2b8Pk"}},48:function(e,t,a){e.exports={Uploader:"Uploader_Uploader__39k2Q",Uploader__imagesContainer:"Uploader_Uploader__imagesContainer__2bLa3"}},63:function(e,t,a){e.exports={Counter:"Counter_Counter__1kSSG"}},64:function(e,t,a){e.exports={Filter:"Filter_Filter__EJ2iM"}},65:function(e,t,a){e.exports={Reset:"Reset_Reset__1v7zy"}},66:function(e,t,a){e.exports={Layout:"Layout_Layout__2aHPw"}},68:function(e,t,a){e.exports=a(132)},73:function(e,t,a){}},[[68,2,1]]]);
//# sourceMappingURL=main.3fd259ba.chunk.js.map