(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={SelectPayment:"SelectPayment_SelectPayment__2Ey6i",SelectPayment__buttonSubText:"SelectPayment_SelectPayment__buttonSubText__3n5-R",SelectPayment__buttonSubTextVar:"SelectPayment_SelectPayment__buttonSubTextVar__3XFUs"}},138:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(63),r=n.n(l),o=(n(76),n(5)),s=n(6),c=n(8),u=n(7),d=n(9),m=n(49),b=n(32),p=n.n(b),C=n(33),g=n.n(C),k=function(e){return i.a.createElement("button",{disabled:e.buttonIsDisabled,onClick:e.clicked,className:[g.a.Button,g.a[e.buttonColor]].join(" ")},i.a.createElement("span",{className:g.a[e.buttonTextStyle]},e.buttonText))},_=n(25),f=n.n(_),h=function(e){return i.a.createElement("div",{className:[f.a.ImageContainer,"green"===e.containerColor?f.a.ImageContainer__green:null,"blue"===e.containerColor?f.a.ImageContainer__blue:null,"red"===e.containerColor?f.a.ImageContainer__red:null].join(" ")},e.children)},S=n(1),E=n.n(S),j=(n(24),function(e,t,n,a){return{containerColor:e,isClickedGreen:t,isClickedBlue:n,isClickedRed:a}}),y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={containerColor:"",isClickedGreen:!1,isClickedBlue:!1,isClickedRed:!1},n.buttonClickHandler=function(e){switch(e){case"green":n.setState(function(e){var t="green";return!0===e.isClickedGreen&&(t=""),E.a.database().ref("".concat(n.props.userName,"/").concat(n.props.caption[0])).update(j(t,!e.isClickedGreen,!1,!1)),j(t,!e.isClickedGreen,!1,!1)});break;case"blue":n.setState(function(e){var t="blue";return!0===e.isClickedBlue&&(t=""),E.a.database().ref("".concat(n.props.userName,"/").concat(n.props.caption[0])).update(j(t,!1,!e.isClickedBlue,!1)),j(t,!1,!e.isClickedBlue,!1)});break;case"red":n.setState(function(e){var t="red";return!0===e.isClickedRed&&(t=""),E.a.database().ref("".concat(n.props.userName,"/").concat(n.props.caption[0])).update(j(t,!1,!1,!e.isClickedRed)),j(t,!1,!1,!e.isClickedRed)})}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){for(var e in this.props.imagesDataObj)if(e===this.props.caption[0]){var t="";this.props.imagesDataObj[e].isClickedGreen&&(t="green"),this.props.imagesDataObj[e].isClickedBlue&&(t="blue"),this.props.imagesDataObj[e].isClickedRed&&(t="red"),this.setState(j(t,this.props.imagesDataObj[e].isClickedGreen,this.props.imagesDataObj[e].isClickedBlue,this.props.imagesDataObj[e].isClickedRed))}}},{key:"componentDidUpdate",value:function(){this.props.imagesDataObj[this.props.caption[0]].isClickedGreen!==this.state.isClickedGreen&&this.setState({isClickedGreen:this.props.imagesDataObj[this.props.caption[0]].isClickedGreen,containerColor:this.props.imagesDataObj[this.props.caption[0]].containerColor}),this.props.imagesDataObj[this.props.caption[0]].isClickedBlue!==this.state.isClickedBlue&&this.setState({isClickedBlue:this.props.imagesDataObj[this.props.caption[0]].isClickedBlue,containerColor:this.props.imagesDataObj[this.props.caption[0]].containerColor}),this.props.imagesDataObj[this.props.caption[0]].isClickedRed!==this.state.isClickedRed&&this.setState({isClickedRed:this.props.imagesDataObj[this.props.caption[0]].isClickedRed,containerColor:this.props.imagesDataObj[this.props.caption[0]].containerColor})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h,{containerColor:this.state.containerColor},i.a.createElement("figure",null,i.a.createElement("img",{className:p.a.Image,src:this.props.src,alt:this.props.caption[0]}),i.a.createElement("figcaption",{className:p.a.Image__title},this.props.caption[0])),this.props.isAdminLogin?null:i.a.createElement("div",{className:p.a.Image__selectionButtons},i.a.createElement(k,{clicked:function(){return e.buttonClickHandler("green")},buttonText:"Tak",buttonColor:"Button__green"}),i.a.createElement(k,{clicked:function(){return e.buttonClickHandler("blue")},buttonText:"Mo\u017ce",buttonColor:"Button__blue"}),i.a.createElement(k,{clicked:function(){return e.buttonClickHandler("red")},buttonText:"Nie",buttonColor:"Button__red"}))))}}]),t}(a.Component),B=function(e){var t,n=[],a=e.imagesDataObj;if(null!==a){var l,r=[],o=e.filterButtonsState.notSelectedClicked,s=e.filterButtonsState.allClicked,c=e.filterButtonsState.greenClicked,u=e.filterButtonsState.blueClicked,d=e.filterButtonsState.redClicked;for(var b in a)r.push(Object(m.a)({},b,a[b]));l=!!(!s&!o&!c&!u&!d);var p=r.filter(function(e){var t=c?e[Object.keys(e)].isClickedGreen:null,n=u?e[Object.keys(e)].isClickedBlue:null,a=d?e[Object.keys(e)].isClickedRed:null,i=!!s||null;return(o?!e[Object.keys(e)].isClickedGreen&&!e[Object.keys(e)].isClickedBlue&&!e[Object.keys(e)].isClickedRed:null)||t||n||a||l||i}).map(function(e){return Object.keys(e)[0]});for(var C in a){var g=a[C].path;n.push(g)}t=p.reduce(function(e,t){var a=n.filter(function(e){return new RegExp(t,"g").test(e)});return e.concat(Object(m.a)({},t,a[0]))},[]).map(function(t){return i.a.createElement(y,{key:Object.keys(t),src:Object.values(t),caption:Object.keys(t),imagesDataObj:a,userName:e.userName,isAdminLogin:e.isAdminLogin})})}return i.a.createElement(i.a.Fragment,null,t)},v=n(70),O=n(64),N=n.n(O),D=(n(48),function(e){return i.a.createElement("div",{className:N.a.Uploader},i.a.createElement("input",{type:"file",multiple:!0,onChange:function(t){e.pickSelectedImages(t.target.files)}}),i.a.createElement(k,{clicked:function(){var t=e.uploadSelectedImages,n={contentType:"image/jpeg"},a=E.a.storage().ref();Object(v.a)(t).forEach(function(t,i){var l=a.child("images/"+t.name).put(t,n);l.on(E.a.storage.TaskEvent.STATE_CHANGED,function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload ("+i+") is: "+Math.round(t)+"%")},function(e){switch(e.code){case"storage/unauthorized":console.log("No permission");break;case"storage/canceled":console.log("Stopped upload");break;case"storage/unknown":console.log("Unknown error")}},function(){var t=l.snapshot.ref.name.replace(".jpg","");l.snapshot.ref.getDownloadURL().then(function(n){E.a.database().ref(e.userName+"/").child(t).set({containerColor:"",path:n,isClickedGreen:!1,isClickedBlue:!1,isClickedRed:!1})})})}),e.disableButton()},buttonText:"UPLOAD",buttonColor:"Button__green",buttonIsDisabled:e.isButtonDisabled}))}),I=n(65),x=n.n(I),L=n(10),T=n.n(L),w=function(e){return i.a.createElement("div",{className:T.a.SelectPayment},i.a.createElement("div",{className:T.a.SelectPayment__buttonContainer},i.a.createElement(k,{buttonText:"WSZYSTKIE",buttonColor:"Button__green"}),i.a.createElement("p",{className:T.a.SelectPayment__buttonSubText},"Koszt dodatkowy:",i.a.createElement("span",{className:T.a.SelectPayment__buttonSubTextVar}," ".concat(5*e.allSelectedAmount*.4," z\u0142"))," ")),i.a.createElement("div",{className:T.a.SelectPayment__buttonContainer},i.a.createElement(k,{buttonText:"TYLKO WYBRANE",buttonColor:""}),i.a.createElement("p",{className:T.a.SelectPayment__buttonSubText},"Koszt dodatkowy:",i.a.createElement("span",{className:T.a.SelectPayment__buttonSubTextVar}," ".concat(e.paymentPerImage," z\u0142"))," ")))},A=function(e){var t=function(e){return e>5?5*(e-5):0};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:x.a.Payment},i.a.createElement("p",null,"Mo\u017cesz wybra\u0107 ",5," zdj\u0119\u0107. Ka\u017cde kolejne kosztuje 5 z\u0142"),i.a.createElement("p",null,"Zdj\u0119cia za darmo:"," ",i.a.createElement("span",{style:{color:"blue"}},5-e.selectedGreenAmount>0?5-e.selectedGreenAmount:0," ","zdj\u0119\u0107")," "),i.a.createElement("p",null,"Koszt dodatkowych zdj\u0119\u0107:"," ",i.a.createElement("span",{style:{color:"blue"}},t(e.selectedGreenAmount)," z\u0142"))),i.a.createElement(w,{allSelectedAmount:e.allSelectedAmount,paymentPerImage:t(e.selectedGreenAmount)}))},P=n(66),R=n.n(P),H=function(e){var t=function t(n){var a=0;switch(n){case"green":for(var i in e.imagesDataObj)!0===e.imagesDataObj[i].isClickedGreen&&a++;return a;case"blue":for(var l in e.imagesDataObj)!0===e.imagesDataObj[l].isClickedBlue&&a++;return a;case"red":for(var r in e.imagesDataObj)!0===e.imagesDataObj[r].isClickedRed&&a++;return a;case"all":for(var o in e.imagesDataObj)o&&a++;return a;case"notSelected":return t("all")-t("green")-t("blue")-t("red");default:return null}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:R.a.Counter},i.a.createElement("p",null,"TAK: ",t("green")," "),i.a.createElement("p",null,"MO\u017bE: ",t("blue")),i.a.createElement("p",null,"NIE: ",t("red")),i.a.createElement("p",null,"WSZYSTKIE: ",t("all")),i.a.createElement("p",null,"NIEZAZNACZONE: ",t("notSelected"))),i.a.createElement(A,{selectedGreenAmount:t("green"),allSelectedAmount:t("all")}))},U=n(67),F=n.n(U),G=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={greenClicked:!1,blueClicked:!1,redClicked:!1,allClicked:!1,notSelectedClicked:!1,anyButtonClicked:!1},n.buttonClickHandler=function(e){switch(e){case"greenClicked":n.setState(function(e){return{greenClicked:!e.greenClicked,allClicked:!1,notSelectedClicked:!1,anyButtonClicked:!0}});break;case"blueClicked":n.setState(function(e){return{blueClicked:!e.blueClicked,allClicked:!1,notSelectedClicked:!1,anyButtonClicked:!0}});break;case"redClicked":n.setState(function(e){return{redClicked:!e.redClicked,allClicked:!1,notSelectedClicked:!1,anyButtonClicked:!0}});break;case"allClicked":n.setState(function(e){return{greenClicked:!1,blueClicked:!1,redClicked:!1,allClicked:!0,notSelectedClicked:!1,anyButtonClicked:!0}});break;case"notSelectedClicked":n.setState(function(e){return{greenClicked:!1,blueClicked:!1,redClicked:!1,allClicked:!1,notSelectedClicked:!0,anyButtonClicked:!0}})}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){this.state.anyButtonClicked&&(this.props.filterButtonsState(this.state),this.setState({anyButtonClicked:!1}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:F.a.Filter},i.a.createElement(k,{clicked:function(){return e.buttonClickHandler("greenClicked")},buttonText:"tak",buttonColor:"Button__green"}),i.a.createElement(k,{clicked:function(){return e.buttonClickHandler("blueClicked")},buttonText:"mo\u017ce",buttonColor:"Button__blue"}),i.a.createElement(k,{clicked:function(){return e.buttonClickHandler("redClicked")},buttonText:"nie",buttonColor:"Button__red"}),i.a.createElement(k,{clicked:function(){return e.buttonClickHandler("allClicked")},buttonText:"wszystkie",buttonColor:""}),i.a.createElement(k,{clicked:function(){return e.buttonClickHandler("notSelectedClicked")},buttonText:"niezaznaczone",buttonColor:""}))}}]),t}(a.Component),z=n(68),M=n.n(z),K=function(e){return i.a.createElement("div",{className:M.a.Reset},i.a.createElement(k,{clicked:function(){for(var t in e.imagesDataObj)E.a.database().ref("".concat(e.userName,"/").concat(t)).update({containerColor:"",isClickedBlue:!1,isClickedGreen:!1,isClickedRed:!1})},buttonText:"Reset"}))},V=n(69),Z=n.n(V),W=function(e){return i.a.createElement("div",{className:Z.a.Layout},e.children)},X=n(50),Y=n.n(X),J=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={userName:"",loginField:"",isLoginClicked:!1,createUserField:"",imagesDataObj:null,selectedfiles:null,buttonIsDisabled:!0,filterButtonsState:!1,isAdminLogin:!1},n.onLoginHandler=function(e){e&&e.preventDefault(),"admin"===n.state.loginField?n.setState({isAdminLogin:!0,isLoginClicked:!0}):(console.log("else"),n.setState({userName:n.state.loginField,isLoginClicked:!0}))},n.onLogoutHandler=function(e){n.setState({userName:"",loginField:"",isLoginClicked:!1,createUserField:"",imagesDataObj:null,selectedfiles:null,buttonIsDisabled:!0,filterButtonsState:!1,isAdminLogin:!1})},n.onCreateUserHandler=function(e){e.preventDefault(),n.setState({isAdminLogin:!0,userName:n.state.createUserField}),n.onLoginHandler()},n.getSelectedImagesHandler=function(e){n.setState({selectedfiles:e,buttonIsDisabled:!1})},n.disableUploadButtonHandler=function(){n.setState({buttonIsDisabled:!0})},n.filterButtonsStateHandler=function(e){n.setState({filterButtonsState:e})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;this.state.loginField&&this.state.isLoginClicked&&this.state.userName&&(console.log("fik"),E.a.database().ref().child(this.state.userName).on("value",function(t){if(t.exists()){var n=t.val();e.setState({imagesDataObj:n,isLoginClicked:!1})}}))}},{key:"render",value:function(){var e=this,t=null,n=null,a=null;return this.state.isAdminLogin&&(t=i.a.createElement(i.a.Fragment,null,i.a.createElement(k,{clicked:function(t){return e.onLogoutHandler(t)},buttonText:"Logout",buttonColor:"Button__red"}),i.a.createElement("label",null,"Create User:"),i.a.createElement("input",{placeholder:"user name",value:this.state.createUserField,onChange:function(t){return e.setState({createUserField:t.target.value})}}),i.a.createElement(k,{clicked:function(t){return e.onCreateUserHandler(t)},buttonText:"Create",buttonColor:""}),i.a.createElement(D,{userName:this.state.userName,pickSelectedImages:this.getSelectedImagesHandler,uploadSelectedImages:this.state.selectedfiles,isButtonDisabled:this.state.buttonIsDisabled,disableButton:this.disableUploadButtonHandler}))),this.state.userName&&!this.state.isAdminLogin&&(n=i.a.createElement(i.a.Fragment,null,i.a.createElement(k,{clicked:function(t){return e.onLogoutHandler(t)},buttonText:"Logout",buttonColor:"Button__red"}),i.a.createElement(H,{imagesDataObj:this.state.imagesDataObj}),i.a.createElement(G,{filterButtonsState:this.filterButtonsStateHandler}),i.a.createElement(K,{userName:this.state.userName,imagesDataObj:this.state.imagesDataObj}))),this.state.isAdminLogin||this.state.userName||(a=i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,"Login:"),i.a.createElement("input",{placeholder:"user login",value:this.state.loginField,onChange:function(t){return e.setState({loginField:t.target.value})},onKeyPress:function(t){"Enter"===t.key&&e.onLoginHandler(t)}}),i.a.createElement(k,{clicked:function(t){return e.onLoginHandler(t)},buttonText:"Login",buttonColor:"Button__blue"}))),i.a.createElement(W,null,i.a.createElement("div",{className:Y.a.MainView},i.a.createElement("h4",null,"User name: ",this.state.userName),a,t,n,i.a.createElement("div",{className:Y.a.MainView__imagesContainer},i.a.createElement(B,{images:this.state.picturesPaths,titles:this.state.picturesTitles,imagesDataObj:this.state.imagesDataObj,userName:this.state.userName,filterButtonsState:this.state.filterButtonsState,reset:this.state.reset,isAdminLogin:this.state.isAdminLogin}))))}}]),t}(a.Component),$=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(J,null)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));E.a.initializeApp({apiKey:"AIzaSyCj6Pdybp3u5NdOUGzCK8ly2UnjtKoRfMs",authDomain:"hooks-b96d6.firebaseapp.com",databaseURL:"https://hooks-b96d6.firebaseio.com",projectId:"hooks-b96d6",storageBucket:"hooks-b96d6.appspot.com",messagingSenderId:"114520526525"}),r.a.render(i.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},25:function(e,t,n){e.exports={ImageContainer:"ImageContainer_ImageContainer__3h35j",ImageContainer__green:"ImageContainer_ImageContainer__green__3X58B",ImageContainer__blue:"ImageContainer_ImageContainer__blue__3NS-X",ImageContainer__red:"ImageContainer_ImageContainer__red__27ku3"}},32:function(e,t,n){e.exports={Image:"Image_Image__2rN34",Image__title:"Image_Image__title__2vuPL",Image__selectionButtons:"Image_Image__selectionButtons__B1sfM"}},33:function(e,t,n){e.exports={Button:"Button_Button__chNl1",Button__green:"Button_Button__green__2BtT-",Button__blue:"Button_Button__blue__1SR39",Button__red:"Button_Button__red__2b8Pk"}},50:function(e,t,n){e.exports={MainView:"MainView_MainView__62jbz",MainView__imagesContainer:"MainView_MainView__imagesContainer__2pXIj"}},64:function(e,t,n){e.exports={Uploader:"Uploader_Uploader__22_PB"}},65:function(e,t,n){e.exports={Payment:"Payment_Payment__1SxXf",Counter__variable:"Payment_Counter__variable__11F8s"}},66:function(e,t,n){e.exports={Counter:"Counter_Counter__1kSSG"}},67:function(e,t,n){e.exports={Filter:"Filter_Filter__EJ2iM"}},68:function(e,t,n){e.exports={Reset:"Reset_Reset__1v7zy"}},69:function(e,t,n){e.exports={Layout:"Layout_Layout__2aHPw"}},71:function(e,t,n){e.exports=n(138)},76:function(e,t,n){}},[[71,2,1]]]);
//# sourceMappingURL=main.a0915bb5.chunk.js.map