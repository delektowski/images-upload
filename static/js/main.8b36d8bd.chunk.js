(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,t,a){e.exports={Layout:"Layout_Layout__Z2rc3"}},224:function(e,t,a){e.exports={Spinner:"Spinner_Spinner__23c1k"}},287:function(e,t,a){e.exports=a(505)},505:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(29),o=a.n(r),s=a(23),l=a(24),c=a(26),u=a(25),d=a(27),m=a(203),p=a(13),g=a(19),h=a.n(g),f=a(204),C=a.n(f),b=(a(37),function(e,t,a,n){return{containerColor:e,isClickedGreen:t,isClickedBlue:a,isClickedRed:n}}),k=a(11),E=a(3),v=a(205),w=a.n(v),y=a(97),j=a.n(y),S=a(209),O=a.n(S),N=a(98),P=a.n(N),D=a(100),I=a.n(D),x=a(99),A=a.n(x),B=a(101),L=a.n(B),H=a(210),F=a.n(H),T=a(207),U=a.n(T),z=a(208),M=a.n(z),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={containerColor:"",isClickedGreen:!1,isClickedBlue:!1,isClickedRed:!1,isImageClicked:!1,imageId:"",src:"no-scr",expanded:!1,comment:"",confirmedComment:!1,isHover:!1,touchStart:0,touchEnd:0},a.keyDownEvent=function(e){switch(e.key){case"ArrowRight":a.OnModalImageSelection("forward");break;case"ArrowLeft":a.OnModalImageSelection("back")}},a.handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}}),window.innerWidth<=600&&a.props.onHideMenu()},a.buttonClickHandler=function(e){switch(e){case"green":a.setState(function(e){var t="green";return!0===e.isClickedGreen&&(t=""),h.a.database().ref("".concat(a.props.userName,"/images/").concat(a.state.imageId)).update(b(t,!e.isClickedGreen,!1,!1)),b(t,!e.isClickedGreen,!1,!1)});break;case"blue":a.setState(function(e){var t="blue";return!0===e.isClickedBlue&&(t=""),h.a.database().ref("".concat(a.props.userName,"/images/").concat(a.state.imageId)).update(b(t,!1,!e.isClickedBlue,!1)),b(t,!1,!e.isClickedBlue,!1)});break;case"red":a.setState(function(e){var t="red";return!0===e.isClickedRed&&(t=""),h.a.database().ref("".concat(a.props.userName,"/images/").concat(a.state.imageId)).update(b(t,!1,!1,!e.isClickedRed)),b(t,!1,!1,!e.isClickedRed)})}},a.onCommentHandler=function(e){var t=e.target.value;a.setState({comment:t})},a.onCancelCommentHandler=function(){a.handleExpandClick()},a.onConfirmCommentHandler=function(){h.a.database().ref("".concat(a.props.userName,"/images/").concat(a.state.imageId)).update({comment:a.state.comment}),a.setState({confirmedComment:!0}),a.handleExpandClick()},a.OnModalImageSelection=function(e){var t=Object.keys(a.props.imagesDataObj),n=t.length-1,i=t.indexOf(a.state.imageId);switch("forward"===e&&i===n&&(i=-1),"back"===e&&0===i&&(i=n+1),e){case"forward":var r=t[i+1],o=a.props.imagesDataObj[r].path;a.setState({imageId:r,src:o});break;case"back":var s=t[i-1],l=a.props.imagesDataObj[s].path;a.setState({imageId:s,src:l})}},a.onHoverHandler=function(e){switch(e.type){case"mouseenter":a.setState({isHover:!0});break;case"mouseleave":a.setState({isHover:!1});break;default:a.setState({isHover:!0})}},a.onSwipeStart=function(e){a.props.ImageClickedTitle&&a.setState({touchStart:e.changedTouches[0].clientX})},a.onSwipeEnd=function(e){a.props.ImageClickedTitle&&a.setState({touchEnd:e.changedTouches[0].clientX})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){for(var e in this.props.imagesDataObj)if(e===this.props.caption[0]){var t="";this.props.imagesDataObj[e].isClickedGreen&&(t="green"),this.props.imagesDataObj[e].isClickedBlue&&(t="blue"),this.props.imagesDataObj[e].isClickedRed&&(t="red"),this.setState({containerColor:t,isClickedGreen:this.props.imagesDataObj[e].isClickedGreen,isClickedBlue:this.props.imagesDataObj[e].isClickedBlue,isClickedRed:this.props.imagesDataObj[e].isClickedRed,imageId:this.props.caption[0],src:this.props.src[0],comment:this.props.imagesDataObj[e].comment})}this.props.isBiggerSize&&window.addEventListener("keydown",this.keyDownEvent,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keyDownEvent,null)}},{key:"componentDidUpdate",value:function(){if(this.props.imagesDataObj[this.state.imageId].isClickedGreen!==this.state.isClickedGreen&&this.setState({isClickedGreen:this.props.imagesDataObj[this.state.imageId].isClickedGreen,containerColor:this.props.imagesDataObj[this.state.imageId].containerColor}),this.props.imagesDataObj[this.state.imageId].isClickedBlue!==this.state.isClickedBlue&&this.setState({isClickedBlue:this.props.imagesDataObj[this.state.imageId].isClickedBlue,containerColor:this.props.imagesDataObj[this.state.imageId].containerColor}),this.props.imagesDataObj[this.state.imageId].isClickedRed!==this.state.isClickedRed&&this.setState({isClickedRed:this.props.imagesDataObj[this.state.imageId].isClickedRed,containerColor:this.props.imagesDataObj[this.state.imageId].containerColor}),!this.state.confirmedComment&&this.state.expanded||this.props.imagesDataObj[this.state.imageId].comment===this.state.comment||this.setState({comment:this.props.imagesDataObj[this.state.imageId].comment,confirmedComment:!1}),this.state.touchStart>0&&this.state.touchEnd>0){var e=this.state.touchStart-this.state.touchEnd;e<0&&this.OnModalImageSelection("back"),e>0&&this.OnModalImageSelection("forward"),this.setState({touchStart:0,touchEnd:0})}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=null,n="borderRed",r="cardRed",o=i.a.createElement(w.a,null);return this.state.comment&&(o=i.a.createElement(j.a,{className:t.orange})),this.state.isClickedRed&&(n="borderRed",r="cardRed"),this.state.isClickedGreen&&(n="borderGreen",r="cardGreen"),this.state.isClickedBlue&&(n="borderBlue",r="cardBlue"),this.props.isAdminLogin||(a=i.a.createElement(i.a.Fragment,null,i.a.createElement(E.d,{className:[t[r],this.props.isBiggerSize?t.biggerCard:null].join(" ")},this.props.ImageClickedTitle&&!this.state.expanded?i.a.createElement(i.a.Fragment,null,i.a.createElement(E.n,{in:this.state.isHover,timeout:500,onMouseEnter:this.onHoverHandler,onMouseLeave:this.onHoverHandler},i.a.createElement(E.m,{className:t.fabLeft,onClick:function(){return e.OnModalImageSelection("back")}},i.a.createElement(U.a,null))),i.a.createElement(E.n,{in:this.state.isHover,timeout:500,onMouseEnter:this.onHoverHandler,onMouseLeave:this.onHoverHandler},i.a.createElement(E.m,{className:t.fabRight,onClick:function(){return e.OnModalImageSelection("forward")}},i.a.createElement(M.a,null)))):null,i.a.createElement("div",{className:t[n]},i.a.createElement(E.g,{subheader:this.state.imageId,className:t.imageTitle}),i.a.createElement(C.a,{onSwipeStart:this.onSwipeStart,onSwipeMove:this.onSwipeMove,onSwipeEnd:this.onSwipeEnd},i.a.createElement(E.h,{component:"img",onClick:function(){return e.props.onImageClick(e.state.imageId)},className:[t.media,this.props.isBiggerSize?t.biggerMedia:null].join(" "),src:this.state.src,title:this.state.imageId})),i.a.createElement(E.e,{className:t.actions},i.a.createElement(E.p,{onClick:function(){return e.buttonClickHandler("green")}},i.a.createElement(P.a,{className:this.state.isClickedGreen&&!this.state.isClickedRed?t.thumbUpAlt:null})),i.a.createElement(E.p,{onClick:function(){return e.buttonClickHandler("blue")}},i.a.createElement(A.a,{className:this.state.isClickedBlue&&!this.state.isClickedRed?t.thumbsUpDown:null})),i.a.createElement(E.p,{onClick:function(){return e.buttonClickHandler("red")}},i.a.createElement(I.a,{className:this.state.isClickedGreen||this.state.isClickedBlue?null:t.thumbDownAlt})),i.a.createElement(E.p,{onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},this.state.expanded?i.a.createElement(O.a,null):o)),i.a.createElement(E.i,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},i.a.createElement(E.f,null,i.a.createElement(E.w,{id:"outlined-textarea",label:"Komentarz",placeholder:"Komentarz",multiline:!0,rowsMax:"4",onChange:this.onCommentHandler,value:this.state.comment,className:t.textField,margin:"normal",variant:"outlined"}),i.a.createElement("div",{className:t.buttonsContainer},i.a.createElement(E.p,{onClick:this.onCancelCommentHandler},i.a.createElement(F.a,null)),i.a.createElement(E.p,{onClick:this.onConfirmCommentHandler},i.a.createElement(L.a,null))))))))),i.a.createElement(i.a.Fragment,null,a)}}]),t}(n.PureComponent),_=Object(k.withStyles)(function(e){return{cardRed:{width:400,margin:"1%",background:"rgb(194, 194, 194)",transition:"all .3s ease-in-out"},cardGreen:{width:400,margin:"1%",background:"rgb(229, 242, 229)",transition:"all .3s ease-in-out"},cardBlue:{width:400,margin:"1%",background:"rgb(235, 235, 234)",transition:"all .3s ease-in-out"},media:{maxWidth:"100%",padding:"0 3%",objectFit:"contain",maxHeight:250,margin:"0 auto"},actions:{display:"flex",justifyContent:"space-around"},borderRed:{border:"4px solid rgb(73, 73, 73)",transition:"all .3s ease-in-out"},borderGreen:{border:"4px solid rgba(0, 128, 0)",transition:"all .3s ease-in-out"},borderBlue:{border:"4px solid rgb(235, 235, 234)",transition:"all .3s ease-in-out"},imageTitle:{textAlign:"center",padding:"2%"},textField:{width:"100%"},thumbUpAlt:{color:"rgba(0, 128, 0)",transition:"all .3s ease-in-out"},thumbsUpDown:{color:"rgb(158, 158, 158)",transition:"all .3s ease-in-out"},thumbDownAlt:{color:"rgb(0, 0, 0)",transition:"all .3s ease-in-out"},buttonsContainer:{display:"flex",justifyContent:"space-around"},biggerMedia:Object(p.a)({maxHeight:450},e.breakpoints.down("xs"),{maxHeight:200}),biggerCard:{width:750,margin:0},fabLeft:{position:"absolute",top:"48%",transform:"translateY(-50%)",left:70,background:"rgba(213, 213, 213, 0.5)"},fabRight:{position:"absolute",top:"48%",transform:"translateY(-50%)",right:70,background:"rgba(213, 213, 213, 0.5)"},orange:{color:"rgb(255,87,34)"}}})(R),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=window.innerWidth<=600?{width:350,margin:"0 auto",marginTop:100}:{width:750,marginTop:100};return i.a.createElement("div",null,i.a.createElement(E.j,{maxWidth:"md",scroll:"body",open:this.props.isImageLarge===this.props.caption,onClose:this.props.onImageLargeClose,PaperProps:{style:t},PaperComponent:"div"},i.a.createElement(E.k,{style:{padding:0},className:e.widtha},this.props.children)))}}]),t}(i.a.Component),W=Object(k.withStyles)({widtha:{width:"auto",height:"auto",display:"flex",justifyContent:"center",padding:0,overflow:"hidden"}})(G),V=Object(k.withStyles)(function(e){var t;return{imagesContainer:(t={display:"flex",alignItems:"flex-start",justifyContent:"center",flexDirection:"row",flexWrap:"wrap",margin:"0 auto"},Object(p.a)(t,e.breakpoints.down("xs"),{width:"70%",minWidth:350}),Object(p.a)(t,"transition","all .3s"),t),marginTop:{transform:"translateY(190px)"}}})(function(e){console.count("IMAGESGENERATOR");var t,a=e.classes,n=[],r=e.imagesDataObj;if(null!==r){var o=[],s=e.filterButtonsState.greenClicked,l=e.filterButtonsState.blueClicked,c=e.filterButtonsState.redClicked,u=e.filterButtonsState.orangeClicked;for(var d in r)o.push(Object(p.a)({},d,r[d]));var m=o.filter(function(e){var t=s?e[Object.keys(e)].isClickedGreen:null,a=l?e[Object.keys(e)].isClickedBlue:null,n=u?e[Object.keys(e)].comment:null,i=c?!e[Object.keys(e)].isClickedGreen&&!e[Object.keys(e)].isClickedBlue:null;return t||a||i||n}).map(function(e){return Object.keys(e)[0]});for(var g in r){var h=r[g].path;n.push(h)}var f=m.reduce(function(e,t){var a=n.filter(function(e){return new RegExp(t,"g").test(e)});return e.concat(Object(p.a)({},t,a[0]))},[]),C=f.length;t=f.map(function(t,a){return a===C&&e.onModalSpinner(!1),i.a.createElement(i.a.Fragment,{key:Object.keys(t)},i.a.createElement(_,{onImageClick:e.onImageClick,src:Object.values(t),caption:Object.keys(t),imagesDataObj:r,userName:e.userName,isAdminLogin:e.isAdminLogin,onHideMenu:e.onHideMenu}),i.a.createElement(W,{isImageLarge:e.isImageLarge,onImageClick:e.onImageClick,imagesDataObj:r,userName:e.userName,isAdminLogin:e.isAdminLogin,onHideMenu:e.onHideMenu,onImageLargeClose:e.onImageLargeClose,caption:Object.keys(t)[0]},i.a.createElement(_,{onImageClick:e.onImageClick,key:Object.keys(t),src:Object.values(t),caption:Object.keys(t),imagesDataObj:r,userName:e.userName,isAdminLogin:e.isAdminLogin,onHideMenu:e.onHideMenu,isBiggerSize:!0,ImageClickedTitle:e.ImageClickedTitle})))})}return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:[a.imagesContainer,e.isDrawerOpen?a.marginTop:null].join(" ")},t))}),K=(a(142),a(144),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={loginField:"test",passwordField:"testtest",errorLogin:""},a.onLoginHandler=function(e){e&&e.preventDefault(),a.state.loginField&&a.state.passwordField&&""===a.props.isCreateUserLogin&&(h.a.auth().signInWithEmailAndPassword("".concat(a.state.loginField,"@aaa.aa"),a.state.passwordField).then(function(){"admin"===a.state.loginField?(a.props.adminLogin(),a.props.loginClicked()):(a.props.isAuthenticated(),a.props.onChangeUserName(a.state.loginField))}).catch(function(){a.setState({errorLogin:"B\u0142\u0119dne has\u0142o lub login"})}),h.a.auth().onAuthStateChanged(function(e){e&&h.a.database().ref(a.state.loginField).on("value",function(e){if(e.exists()){var t=e.val();a.props.onLoginDataPass(t.images,t.paymentConfig.freePicturesAmount,t.paymentConfig.picturePrice,t.paymentConfig.discountProcent)}})}))},a.onLoginClickedHandler=function(e){switch(e.target.getAttribute("data-value")){case"login":if("Enter"===e.key){a.onLoginHandler(e);break}a.setState({loginField:e.target.value});break;case"password":if("Enter"===e.key){a.onLoginHandler(e);break}a.setState({passwordField:e.target.value});break;default:a.state.loginField&&a.state.passwordField||a.setState({errorLogin:"Nie zosta\u0142 podany login lub has\u0142o"}),a.onLoginHandler(e)}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.n,{in:!0,timeout:2e3},i.a.createElement("div",{className:t.container},i.a.createElement(E.v,{className:t.paper},i.a.createElement(E.y,{color:"secondary",variant:"overline"},this.state.errorLogin),i.a.createElement("form",{className:t.form},i.a.createElement(E.o,{error:Boolean(this.state.errorLogin),margin:"normal",required:!0},i.a.createElement(E.s,{htmlFor:"login"},"U\u017cytkownik"),i.a.createElement(E.q,{id:"login",type:"text",autoComplete:"off",autoFocus:!0,value:this.state.loginField,onChange:function(t){return e.onLoginClickedHandler(t)},inputProps:{"data-value":"login"}})),i.a.createElement(E.o,{error:Boolean(this.state.errorLogin),margin:"normal",required:!0},i.a.createElement(E.s,{htmlFor:"password"},"Has\u0142o"),i.a.createElement(E.q,{id:"password",type:"password",autoComplete:"off",value:this.state.passwordField,onChange:function(t){return e.onLoginClickedHandler(t)},inputProps:{"data-value":"password"},onKeyPress:function(t){return e.onLoginClickedHandler(t)}}))),i.a.createElement(E.c,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,"data-value":"button",onClick:function(t){return e.onLoginClickedHandler(t)}},"Zaloguj")))))}}]),t}(n.Component)),Z=Object(k.withStyles)(function(e){return{container:Object(p.a)({position:"relative",zIndex:1200,marginTop:100,width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up("sm"),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"".concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},form:{marginTop:e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},submit:Object(p.a)({marginTop:3*e.spacing.unit},e.breakpoints.down("xs"),{width:"90%"}),info:{fontSize:".6rem"}}})(K),Y=a(211),J=a.n(Y),q=function(e){return i.a.createElement("div",{className:J.a.Layout},e.children)},$=a(231),X=a(212),Q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={selectedfiles:null,isButtonDisabled:!0},a.uploadHandler=function(){var e=a.state.selectedfiles,t={contentType:"image/jpeg"},n=h.a.storage().ref();Object($.a)(e).forEach(function(e,i){var r=n.child("images/".concat(a.props.userName,"/").concat(e.name)).put(e,t);r.on(h.a.storage.TaskEvent.STATE_CHANGED,function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload ("+i+") is: "+Math.round(t)+"%")},function(e){switch(e.code){case"storage/unauthorized":console.log("No permission");break;case"storage/canceled":console.log("Stopped upload");break;case"storage/unknown":console.log("Unknown error")}},function(){var e=r.snapshot.ref.name.replace(".jpg","");r.snapshot.ref.getDownloadURL().then(function(t){h.a.database().ref(a.props.userName+"/images/").child(e).set({containerColor:"",path:t,isClickedGreen:!1,isClickedBlue:!1,isClickedRed:!1,comment:""})})})}),a.disableUploadButtonHandler()},a.selectImageHandler=function(e){a.setState({selectedfiles:e,isButtonDisabled:!1}),a.props.selectedfiles(e)},a.disableUploadButtonHandler=function(){a.setState({isButtonDisabled:!0,selectedfiles:null}),h.a.auth().onAuthStateChanged(function(e){e&&h.a.database().ref(a.props.userName).on("value",function(e){if(e.exists()){var t=e.val();t.images&&a.props.imagesDataObj(t.images),a.props.loginClicked()}})})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isUserCreated?i.a.createElement(E.n,{in:this.props.isUserCreated,timeout:500},i.a.createElement("div",{style:{marginTop:"2%",width:"100%"}},i.a.createElement(E.c,{variant:"contained",style:{marginBottom:"2%"},size:"large",color:"primary",onClick:this.uploadHandler,disabled:!this.state.selectedfiles,fullWidth:!0},"Wy\u015blij"),i.a.createElement(X.a,{filesLimit:21,showPreviewsInDropzone:!1,showPreviews:!0,dropzoneText:"Przeci\u0105gnij i upu\u015b\u0107 zdj\u0119cia albo kliknij aby doda\u0107",onChange:this.selectImageHandler,showAlerts:!1,acceptedFiles:["image/jpeg","image/png","image/bmp"],maxFileSize:5e6}),i.a.createElement(E.c,{variant:"contained",style:{marginTop:"2%"},size:"large",color:"primary",onClick:this.uploadHandler,disabled:!this.state.selectedfiles,fullWidth:!0},"Wy\u015blij"))):null}}]),t}(n.Component),ee=a(222),te=a.n(ee),ae=a(72),ne=a.n(ae),ie=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.amountSelectedImages?this.props.amountSelectedImages.length:0,n=(a-this.props.freePicturesAmount)*this.props.picturePrice*(this.props.discountProcent/100),r=Math.round((a-this.props.freePicturesAmount)*this.props.picturePrice-n);return r<0&&(r=0),i.a.createElement(i.a.Fragment,null,i.a.createElement(E.n,{in:!0,timeout:500},i.a.createElement(E.a,{position:"static",className:this.props.isUserCreated?t.bar__onUserCreated:t.bar},i.a.createElement(E.x,{className:t.toolBar},i.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},i.a.createElement(E.w,{disabled:!this.props.isUserCreated,className:t.textField,variant:"outlined",type:"number",label:"Darmowe zdj\u0119cia",margin:"dense",value:this.props.freePicturesAmount,onChange:function(t){return e.props.changeFreePicturesAmount(t.target.value)},InputProps:{endAdornment:i.a.createElement(E.r,{position:"end"},"szt.")}})),i.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},i.a.createElement(E.w,{disabled:!this.props.isUserCreated,className:t.textField,variant:"outlined",type:"number",label:"Upust za wszystkie",margin:"dense",value:this.props.discountProcent,onChange:function(t){return e.props.changeDiscountValue(t.target.value)},InputProps:{endAdornment:i.a.createElement(E.r,{position:"end"},"%")}})),i.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},i.a.createElement(E.w,{disabled:!this.props.isUserCreated,className:t.textField,variant:"outlined",type:"number",label:"Cena za zdj\u0119cie",margin:"dense",value:this.props.picturePrice,onChange:function(t){return e.props.changePicturePrice(t.target.value)},InputProps:{endAdornment:i.a.createElement(E.r,{position:"end"},"z\u0142")}}))))),this.props.isUserCreated?i.a.createElement(E.n,{in:this.props.isUserCreated,timeout:500},i.a.createElement(E.v,{className:t.paper},i.a.createElement("div",{className:t.avatarContainer},i.a.createElement(E.y,{gutterBottom:!0,variant:"caption"},"Liczba zdj\u0119\u0107"),i.a.createElement(E.b,{className:t.orangeAvatar},a)),i.a.createElement("div",{className:t.avatarContainer},i.a.createElement(E.y,{gutterBottom:!0,variant:"caption"},"Cena za wszystkie"),i.a.createElement(E.b,{className:t.purpleAvatar},r," z\u0142")))):null)}}]),t}(n.Component),re=Object(k.withStyles)(function(e){return{bar:{marginTop:"1%"},bar__onUserCreated:{marginTop:40},toolBar:{display:"flex",alignItems:"center",justifyContent:"center",background:"whitesmoke",paddingTop:10,paddingBottom:10},container:{display:"flex",flexWrap:"wrap"},textField:Object(p.a)({marginLeft:e.spacing.unit,marginRight:e.spacing.unit,padding:0},e.breakpoints.down("xs"),{paddingTop:10}),paper:{background:"whitesmoke",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"2%",paddingBottom:".8%",paddingTop:".8%"},orangeAvatar:{width:70,height:70,margin:"0 auto",fontSize:".9rem",color:"#fff",backgroundColor:te.a[500]},purpleAvatar:{width:70,height:70,margin:"0 auto",fontSize:".9rem",color:"#fff",backgroundColor:ne.a[500]},avatarContainer:{marginLeft:"5%",marginRight:"5%"}}})(ie),oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={userValidation:!1,passwordValidation:!1,passwordFieldClicked:!1,userFieldClicked:!1,createUserLogin:"",createUserPassword:"",onUserCreated:!1,freePicturesAmount:0,discountProcent:60,picturePrice:5},a.onValidationHandler=function(e){switch(e.target.getAttribute("data-value")){case"user":e.target.value.length>=2?a.setState({userValidation:!0,userFieldClicked:!1}):a.setState({userValidation:!1,userFieldClicked:!0});break;case"password":e.target.value.length>=6?a.setState({passwordValidation:!0,passwordFieldClicked:!1}):a.setState({passwordValidation:!1,passwordFieldClicked:!0})}a.onCreateClickedHandler(e)},a.changeFreePicturesAmountHandler=function(e){e<0&&(e=""),a.setState({freePicturesAmount:e}),a.updatePaymentConfOnFirebase("freePicturesAmount",e)},a.changeDiscountValueHandler=function(e){e<0&&(e=""),e>100&&(e=100),a.setState({discountProcent:e}),a.updatePaymentConfOnFirebase("discountProcent",e)},a.changepicturePriceHandler=function(e){e<0&&(e=""),a.setState({picturePrice:e}),a.updatePaymentConfOnFirebase("picturePrice",e)},a.updatePaymentConfOnFirebase=function(e,t){h.a.database().ref(a.state.createUserLogin+"/").child("paymentConfig").update(Object(p.a)({},e,t))},a.onCreateUserHandler=function(e){e.preventDefault(),a.props.adminLogin(),a.props.onChangeUserName(a.state.createUserLogin),h.a.auth().createUserWithEmailAndPassword("".concat(a.state.createUserLogin,"@aaa.aa"),a.state.createUserPassword).then(function(e){console.log("".concat(e.user.email," is ").concat(e.operationType)),h.a.database().ref(a.state.createUserLogin+"/").child("paymentConfig").set({freePicturesAmount:a.state.freePicturesAmount,picturePrice:a.state.picturePrice,discountProcent:a.state.discountProcent}),a.setState({onUserCreated:!0}),a.props.onUserCreated(),a.props.loginClicked()}).catch(function(e){console.log("Create error: ",e)})},a.onCreateClickedHandler=function(e){switch(e.target.getAttribute("data-value")){case"user":a.setState({createUserLogin:e.target.value});break;case"password":if("Enter"===e.key){a.onCreateUserHandler(e);break}a.setState({createUserPassword:e.target.value});break;default:a.onCreateUserHandler(e)}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=null;return this.state.onUserCreated||(a=i.a.createElement(i.a.Fragment,null,i.a.createElement(E.n,{in:!this.state.onUserCreated,timeout:500},i.a.createElement(E.a,{position:"static",className:t.bar},i.a.createElement(E.x,{className:t.toolBar},i.a.createElement(E.o,{className:t.formControl},i.a.createElement(E.s,{className:t.input,htmlFor:"custom-css-standard-input"},"nazwa ",i.a.createElement("span",{className:t.info}," (min. 2 znaki)")),i.a.createElement(E.q,{className:t.input,id:"create-login-input",value:this.state.createUserLogin,onChange:this.onValidationHandler,inputProps:{"data-value":"user"}})),i.a.createElement(E.o,{className:t.margin},i.a.createElement(E.s,{className:t.input,htmlFor:"custom-css-standard-input"},"has\u0142o ",i.a.createElement("span",{className:t.info}," (min. 6 znak\xf3w)")),i.a.createElement(E.q,{className:t.input,id:"create-password-input",value:this.state.createUserPassword,onChange:this.onValidationHandler,onKeyPress:function(t){return e.onCreateClickedHandler(t)},inputProps:{"data-value":"password"}}))))),i.a.createElement(E.n,{in:!this.state.onUserCreated,timeout:500},i.a.createElement(E.c,{variant:"contained",size:"small",color:"primary",fullWidth:!0,className:t.logout__button,onClick:function(t){return e.onCreateUserHandler(t)},disabled:!(this.state.userValidation&&this.state.passwordValidation)},"Stw\xf3rz u\u017cytkownika")))),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.root},a,i.a.createElement(re,{freePicturesAmount:this.state.freePicturesAmount,discountProcent:this.state.discountProcent,amountSelectedImages:this.props.amountSelectedImages,changeFreePicturesAmount:this.changeFreePicturesAmountHandler,changeDiscountValue:this.changeDiscountValueHandler,changePicturePrice:this.changepicturePriceHandler,picturePrice:this.state.picturePrice,userName:this.state.createUserLogin,isUserCreated:this.state.onUserCreated,imagesDataObj:this.props.imagesDataObj})))}}]),t}(n.Component),se=Object(k.withStyles)(function(e){var t;return{root:{width:"100%"},bar:Object(p.a)({marginTop:40,background:"whitesmoke",display:"flex",justifyContent:"center"},e.breakpoints.down("xs"),{height:140,marginTop:15}),toolBar:Object(p.a)({position:"static",display:"flex",alignItems:"center",justifyContent:"space-around",flexDirection:"row",width:"100%"},e.breakpoints.down("xs"),{flexDirection:"column"}),bar__logout:Object(p.a)({background:"whitesmoke",height:"7vh",display:"flex",justifyContent:"center"},e.breakpoints.down("xs"),{height:60}),logout__button:(t={marginTop:"1%",paddingTop:13,paddingBottom:13},Object(p.a)(t,e.breakpoints.down("sm"),{fontSize:".8rem"}),Object(p.a)(t,e.breakpoints.down("xs"),{fontSize:".6rem",marginTop:"3%",marginBottom:"2%",paddingTop:15,paddingBottom:15}),t),input:Object(p.a)({},e.breakpoints.down("xs"),{fontSize:".7rem"}),info:{fontSize:".6rem"}}})(oe),le=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(se,{loginInputValue:e.loginInputValue,onCreateUser:function(t){return e.onCreateUser(t)},passwordInputValue:e.passwordInputValue,buttonCreate:function(t){return e.buttonCreate(t)},clicked:e.logout,adminLogin:e.adminLogin,onChangeUserName:e.onChangeUserName,freePicturesAmount:e.freePicturesAmount,picturePrice:e.picturePrice,discountProcent:e.discountProcent,imagesDataObj:e.imagesDataObj,loginClicked:e.loginClicked,amountSelectedImages:e.uploadSelectedImages,onUserCreated:e.onUserCreated}),i.a.createElement(Q,{userName:e.userName,pickSelectedImages:e.pickSelectedImages,uploadSelectedImages:e.uploadSelectedImages,isButtonDisabled:e.isButtonDisabled,disableButton:e.disableButton,imagesDataObj:e.imagesDataObj,loginClicked:e.loginClicked,selectedfiles:e.selectedfiles,isUserCreated:e.isUserCreated}))},ce=Object(k.withStyles)(function(e){return{paper:Object(p.a)({background:"whitesmoke",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%",paddingLeft:5,paddingRight:5},e.breakpoints.down("xs"),{justifyContent:"space-between"}),iconCaption:{fontSize:".56rem"},iconCaptionContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:90},iconCaptionContainerBig:{width:110},avatar:{height:40,width:40,marginLeft:5},green:{color:"green"},bgGreen:{background:"green"},red:{color:"rgb(245, 0, 87)"},bgRed:{background:"rgb(245, 0, 87)"},bgPrimary:{background:"rgb(48, 63, 159)"},blue:{color:"rgb(63, 81, 181)"},bgBlue:{background:"rgb(63, 81, 181)"},deepPurple:{color:ne.a[500]},bgDeepPurple:{background:ne.a[500]},white:{color:"white"},primary:{color:"rgb(48, 63, 159)"}}})(function(e){var t=e.classes,a=null,n=null;return e.isCheckout||(a=i.a.createElement("div",{className:[t.iconCaptionContainer,t.deepPurple].join(" ")},i.a.createElement("div",null,i.a.createElement(E.y,{className:[t.iconCaption,t.deepPurple].join(" "),variant:"caption"},"DARMOWE ZDJ\u0118CIA")),i.a.createElement(E.b,{className:[t.avatar,t.bgDeepPurple].join(" ")},i.a.createElement(E.y,{className:t.white,variant:"caption"},e.countFreePictures)))),e.isCheckout&&(n=i.a.createElement("div",{className:[t.iconCaptionContainer,t.green].join(" ")},i.a.createElement("div",null,i.a.createElement(E.y,{className:[t.iconCaption,t.green].join(" "),variant:"caption"},"WYBRANE ZDJ\u0118CIA")),i.a.createElement(E.b,{className:[t.avatar,t.bgGreen].join(" ")},i.a.createElement(E.y,{className:t.white,variant:"caption"},e.selectedImages)))),i.a.createElement(i.a.Fragment,null,i.a.createElement(E.v,{className:t.paper},a,n,i.a.createElement("div",{className:[t.iconCaptionContainer,t.primary].join(" ")},i.a.createElement("div",null,i.a.createElement(E.y,{className:[t.iconCaption,t.primary].join(" "),variant:"caption"},"KOSZT WSZYSTKICH ZDJ\u0118\u0106")),i.a.createElement(E.b,{className:[t.avatar,t.bgPrimary].join(" ")},i.a.createElement(E.y,{className:t.white,variant:"caption"},e.allImagesCost," z\u0142"))),i.a.createElement("div",{className:[t.iconCaptionContainer,t.iconCaptionContainerBig,t.red].join(" ")},i.a.createElement(E.y,{className:[t.iconCaption,t.red].join(" "),variant:"caption"},"KOSZT DODATKOWYCH ZDJ\u0118\u0106 ",i.a.createElement("br",null)," ",i.a.createElement("strong",null,e.picturePrice," z\u0142/szt.")),i.a.createElement(E.b,{className:[t.avatar,t.bgRed].join(" ")},i.a.createElement(E.y,{className:t.white,variant:"caption"},e.countPayPerImage," z\u0142")))))}),ue=Object(k.withStyles)(function(e){return{container:{marginTop:65,width:"100%",height:"auto",overflow:"hidden",position:"fixed"},imagesContainer:Object(p.a)({display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center",marginTop:160,overflow:"scroll",height:"calc(".concat(window.innerHeight,"px - 160px)"),width:"100%"},e.breakpoints.down("xs"),{marginTop:180}),paymentContainer:{width:"100%"},logout__button:Object(p.a)({},e.breakpoints.down("xs"),{height:60,fontSize:".7rem"}),buttonsContainer:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},buttonContainer:{padding:"1%",margin:"0 auto",width:"90%"},image:Object(p.a)({width:150},e.breakpoints.down("xs"),{width:90})}})(function(e){var t=e.classes,a=function(){var t=[];for(var a in e.imagesDataObj)!0===e.imagesDataObj[a].isClickedGreen&&t.push(a);return t};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.paymentContainer},i.a.createElement(ce,{countPayPerImage:e.countPayPerImage,allImagesCost:e.allImagesCost,countFreePictures:e.countFreePictures,picturePrice:e.picturePrice,selectedImages:e.selectedImages,isCheckout:e.isCheckout})),i.a.createElement("div",{className:t.buttonsContainer},i.a.createElement("form",{className:t.buttonContainer,action:"https://jumprock.co/mail/peekpickpic",method:"post"},i.a.createElement("input",{style:{display:"none"},type:"text",name:"message",value:'*** TYTU\u0141Y ZDJ\u0118\u0106: "'.concat(e.allImagesTitles(),'" *** WYBRANA OPCJA: "wszystkie zdj\u0119cia" *** KOSZT: ').concat(e.allImagesCost," z\u0142 ***"),placeholder:"message",readOnly:!0}),i.a.createElement(E.c,{variant:"contained",size:"small",type:"submit",color:"primary",className:[t.logout__button].join(" "),fullWidth:!0},"wybieram: wszystkie zdj\u0119cia"),i.a.createElement("input",{type:"hidden",name:"after",value:"http://localhost:3000/confirmation"})),i.a.createElement("div",{className:t.buttonContainer},i.a.createElement("form",{className:t.buttonContainer,action:"https://jumprock.co/mail/peekpickpic",method:"post"},i.a.createElement("input",{style:{display:"none"},type:"text",name:"message",value:'*** TYTU\u0141Y ZDJ\u0118\u0106: "'.concat(a().join('" , "'),'" *** WYBRANA OPCJA: "darmowe + dodatkowe zdj\u0119cia" *** KOSZT: ').concat(e.countPayPerImage," z\u0142 ***"),placeholder:"message",readOnly:!0}),i.a.createElement(E.c,{variant:"contained",size:"small",type:"submit",className:t.logout__button,fullWidth:!0,color:"secondary"},"wybieram: darmowe + dodatkowe zdj\u0119cia"),i.a.createElement("input",{type:"hidden",name:"after",value:"http://localhost:3000/confirmation"}))))),i.a.createElement("div",{className:[t.paper,t.imagesContainer].join(" ")},a().map(function(a){return i.a.createElement("figure",{key:a},i.a.createElement("img",{className:t.image,src:e.imagesDataObj[a].path,alt:a}),i.a.createElement("figcaption",{style:{textAlign:"center",fontSize:".7rem"}},a))})))}),de=a(95),me=a.n(de),pe=Object(k.withStyles)(function(e){var t;return{container:{position:"relative"},caption:(t={position:"absolute",top:"50%",transform:"translate(-110%, -50%)",fontSize:".8rem"},Object(p.a)(t,e.breakpoints.down("xs"),{transform:"translate(-80%, -50%)",fontSize:".6rem"}),Object(p.a)(t,e.breakpoints.down(400),{transform:"translate(-60%, -50%)",fontSize:".5rem"}),t),greenClicked:{color:"green","&$checked":{color:"green"}},blueClicked:{color:"rgb(158, 158, 158)","&$checked":{color:"rgb(158, 158, 158)"}},redClicked:{color:"rgb(0,0,0)","&$checked":{color:"rgb(0,0,0)"}},orangeClicked:{color:"rgb(255,87,34)","&$checked":{color:"rgb(255,87,34)"}},checked:{}}})(function(e){var t=e.classes;return i.a.createElement("div",{className:t.container},"greenClicked"===e.filterClicked?i.a.createElement(E.y,{className:t.caption,variant:"caption"},"POKA\u017b"):null,i.a.createElement(me.a,{checked:e.filterButtonsState[e.filterClicked],onChange:function(){return function(t){switch(t){case"greenClicked":e.onFilterButtonsState("greenClicked");break;case"blueClicked":e.onFilterButtonsState("blueClicked");break;case"redClicked":e.onFilterButtonsState("redClicked");break;case"orangeClicked":e.onFilterButtonsState("orangeClicked")}}(e.filterClicked)},classes:{root:t[e.filterClicked],checked:t.checked}}))}),ge=Object(k.withStyles)({paper:{background:"whitesmoke",marginTop:65,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%",paddingLeft:5,paddingRight:5,paddingTop:5},iconCaption:{fontSize:".56rem"},iconCaptionFilterContainer:{display:"flex",flexDirection:"column",alignItems:"center"},iconCaptionContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:60},iconCaptionContainerBig:{width:80},captionContainer:{display:"flex",flexDirection:"column"},avatar:{height:30,width:30},green:{color:"green"},orange:{color:"rgb(255,87,34)"},bgGreen:{background:"green"},red:{color:"rgb(0,0,0)"},bgRed:{background:"rgb(0,0,0)"},bgOrange:{background:"rgb(255,87,34)"},blue:{color:"rgb(158, 158, 158)"},bgBlue:{background:"rgb(158, 158, 158)"},white:{color:"white"}})(function(e){var t=e.classes,a=function(t){var a=0;switch(t){case"green":for(var n in e.imagesDataObj)!0===e.imagesDataObj[n].isClickedGreen&&a++;return a;case"blue":for(var i in e.imagesDataObj)!0===e.imagesDataObj[i].isClickedBlue&&a++;return a;case"red":for(var r in e.imagesDataObj)!1!==e.imagesDataObj[r].isClickedRed&&!0!==e.imagesDataObj[r].isClickedRed||!1!==e.imagesDataObj[r].isClickedGreen||!1!==e.imagesDataObj[r].isClickedBlue||a++;return a;case"orange":for(var o in e.imagesDataObj)""!==e.imagesDataObj[o].comment&&a++;return a;case"all":for(var s in e.imagesDataObj)s&&a++;return a;default:return null}},n=e.freePicturesAmount,r=a("all"),o=e.picturePrice,s=function(e){return e>n?(e-n)*o:0},l=function(){var t=(r-n)*o*(e.discountProcent/100),a=Math.round((r-n)*o-t);return a<0&&(a=0),a},c=n-a("green")>0?n-a("green"):0;e.onAmountSelected(a("green"));var u=null,d=null;return e.isCheckout||(d=i.a.createElement(i.a.Fragment,null,i.a.createElement(E.v,{className:t.paper},i.a.createElement("div",{className:t.iconCaptionFilterContainer},i.a.createElement("div",{className:[t.iconCaptionContainer,t.green].join(" ")},i.a.createElement("div",null,i.a.createElement(P.a,null),i.a.createElement(E.y,{className:[t.iconCaption,t.green].join(" "),variant:"caption"},"TAK")),i.a.createElement(E.b,{className:[t.avatar,t.bgGreen].join(" ")},i.a.createElement(E.y,{className:t.white,variant:"caption"},a("green")))),i.a.createElement(pe,{onFilterButtonsState:e.onFilterButtonsState,filterClicked:"greenClicked",filterButtonsState:e.filterButtonsState})),i.a.createElement("div",{className:t.iconCaptionFilterContainer},i.a.createElement("div",{className:[t.iconCaptionContainer,t.blue].join(" ")},i.a.createElement("div",null,i.a.createElement(A.a,null),i.a.createElement(E.y,{className:[t.iconCaption,t.blue].join(" "),variant:"caption"},"MO\u017bE")),i.a.createElement(E.b,{className:[t.avatar,t.bgBlue].join(" ")},i.a.createElement(E.y,{className:t.white,variant:"caption"},a("blue")))),i.a.createElement(pe,{onFilterButtonsState:e.onFilterButtonsState,filterClicked:"blueClicked",filterButtonsState:e.filterButtonsState})),i.a.createElement("div",{className:t.iconCaptionFilterContainer},i.a.createElement("div",{className:[t.iconCaptionContainer,t.red].join(" ")},i.a.createElement("div",null,i.a.createElement(I.a,null),i.a.createElement(E.y,{className:[t.iconCaption,t.red].join(" "),variant:"caption"},"NIE")),i.a.createElement(E.b,{className:[t.avatar,t.bgRed].join(" ")},i.a.createElement(E.y,{className:t.white,variant:"caption"},a("red")))),i.a.createElement(pe,{onFilterButtonsState:e.onFilterButtonsState,filterClicked:"redClicked",filterButtonsState:e.filterButtonsState})),i.a.createElement("div",{className:t.iconCaptionFilterContainer},i.a.createElement("div",{className:[t.iconCaptionContainer,t.iconCaptionContainerBig,t.orange].join(" ")},i.a.createElement("div",{className:t.captionContainer},i.a.createElement(j.a,{style:{margin:"0 auto"}}),i.a.createElement(E.y,{className:[t.iconCaption,t.orange].join(" "),variant:"caption"},"KOMENTARZ")),i.a.createElement(E.b,{className:[t.avatar,t.bgOrange].join(" ")},i.a.createElement(E.y,{className:t.white,variant:"caption"},a("orange")))),i.a.createElement(pe,{onFilterButtonsState:e.onFilterButtonsState,filterButtonsState:e.filterButtonsState,filterClicked:"orangeClicked"}))),i.a.createElement(ce,{countPayPerImage:s(a("green")),allImagesCost:l(),countFreePictures:c,picturePrice:e.picturePrice,isCheckout:e.isCheckout}))),e.isCheckout&&(u=i.a.createElement(ue,{countPayPerImage:s(a("green")),allImagesCost:l(),countFreePictures:c,picturePrice:e.picturePrice,selectedImages:a("green"),isCheckout:e.isCheckout,imagesDataObj:e.imagesDataObj,allImagesTitles:e.allImagesTitles})),i.a.createElement(i.a.Fragment,null,u,d)}),he=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ge,{imagesDataObj:e.imagesDataObj,freePicturesAmount:e.freePicturesAmount,discountProcent:e.discountProcent,picturePrice:e.picturePrice,onFilterButtonsState:e.onFilterButtonsState,filterButtonsState:e.filterButtonsState,amountAll:e.amountAll,isCheckout:e.isCheckout,amountSelected:e.amountSelected,onAmountSelected:e.onAmountSelected,allImagesTitles:e.allImagesTitles}))},fe=function(e){return i.a.createElement(E.y,{style:{width:"100%"},variant:"overline",align:"center",onClick:function(){e.userName&&h.a.database().ref(e.userName).off(),h.a.auth().signOut().then(function(){console.log("Logout")}).catch(function(e){console.log("Logout: ",e)}),e.onLogoutHandler()}},"wyloguj")},Ce=function(e){return i.a.createElement(E.y,{style:{width:"100%"},variant:"overline",align:"center",onClick:function(){for(var t in e.imagesDataObj)h.a.database().ref("".concat(e.userName,"/images/").concat(t)).update({containerColor:"",isClickedBlue:!1,isClickedGreen:!1,isClickedRed:!0});e.onMenuClose()}},"RESET")},be=function(e){return i.a.createElement(E.y,{style:{width:"100%"},variant:"overline",align:"center",onClick:function(){e.onCheckoutClose(),e.onMenuClose()}},"selekcja")},ke=function(e){return i.a.createElement(E.y,{style:{width:"100%"},variant:"overline",align:"center",onClick:function(){e.onCheckoutRelease(),e.onMenuClose()}},"podsumowanie")},Ee=a(48),ve=a.n(Ee),we=a(223),ye=a.n(we),je=function(e){var t=Boolean(e.isMenuOpen),a=e.isMenuOpen,n=null,r=null,o=null;return e.isAdminLogin||e.isCheckout||(n=i.a.createElement(E.u,{style:{display:"flex",justifyContent:"center"}},i.a.createElement(Ce,{userName:e.userName,imagesDataObj:e.imagesDataObj,onMenuClose:e.onMenuClose}))),e.isAdminLogin||e.isCheckout||(r=i.a.createElement(E.u,{style:{display:"flex",justifyContent:"center"}},i.a.createElement(ke,{onCheckoutRelease:e.onCheckoutRelease,onMenuClose:e.onMenuClose}))),e.isCheckout&&(o=i.a.createElement(E.u,{style:{display:"flex",justifyContent:"center"}},i.a.createElement(be,{onCheckoutClose:e.onCheckoutClose,onMenuClose:e.onMenuClose}))),i.a.createElement("div",null,i.a.createElement(ve.a,{onClick:function(t){return e.onMenuOpen(t.target)}},i.a.createElement(ye.a,null)),i.a.createElement(E.t,{anchorEl:a,disableAutoFocusItem:!0,open:t,onClose:e.onMenuClose,PaperProps:{style:{width:200}}},n,r,o,i.a.createElement(E.u,{style:{display:"flex",justifyContent:"center"}},i.a.createElement(fe,{userName:e.userName,onLogoutHandler:e.onLogoutHandler}))))},Se=a(58),Oe=a.n(Se),Ne=a(506),Pe=Object(k.withStyles)({container:{padding:"5% 10%",textAlign:"center"},button:{marginTop:"4%"},link:{textDecoration:"none"}})(function(e){var t=e.classes;return i.a.createElement(Oe.a,{open:e.open,maxWidth:"xs"},i.a.createElement("div",{className:t.container},i.a.createElement(E.y,{variant:"overline"},"Informacja o wyborze zosta\u0142a wys\u0142ana do fotografa"),i.a.createElement(E.y,{variant:"overline"},"Dzi\u0119kuj\u0119! :-)"),i.a.createElement(Ne.a,{className:t.link,to:{pathname:"/"}},i.a.createElement(E.c,{fullWidth:!0,variant:"contained",color:"primary",className:t.button},"Zaloguj si\u0119 ponownie"))))}),De=a(224),Ie=a.n(De),xe=function(e){return e.isModalSpinner?i.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"100"}},i.a.createElement("div",{className:Ie.a.Spinner},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))):null},Ae=a(229),Be=a.n(Ae),Le=a(226),He=a.n(Le),Fe=a(227),Te=a.n(Fe),Ue=a(228),ze=a.n(Ue),Me=a(225),Re=a.n(Me),_e=a(508),Ge=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={userName:"",isLoginClicked:!1,isCreateClicked:!1,isCheckout:!1,createUserLogin:"",createUserPassword:"",imagesDataObj:null,freePicturesAmount:0,picturePrice:0,discountProcent:0,selectedfiles:0,isButtonDisabled:!0,filterButtonsState:{greenClicked:!0,blueClicked:!0,redClicked:!0,orangeClicked:!0},isAdminLogin:!1,isAuthenticated:!1,errorLogin:"",onUserCreated:!1,isDrawerOpen:!0,isFooterHidden:!1,imageClickedTitle:"",anchorEl:null,amountAll:0,amountSelected:0,isModalSpinner:!1},a.onLoginDataPass=function(e,t,n,i){a.setState({imagesDataObj:e,isLoginClicked:!1,freePicturesAmount:t,picturePrice:n,discountProcent:i})},a.onLogoutHandler=function(){a.setState({userName:"",isLoginClicked:!1,isCreateClicked:!1,isCheckout:!1,createUserLogin:"",createUserPassword:"",imagesDataObj:null,freePicturesAmount:0,picturePrice:0,discountProcent:0,selectedfiles:0,isButtonDisabled:!0,filterButtonsState:{greenClicked:!0,blueClicked:!0,redClicked:!0,orangeClicked:!0},isAdminLogin:!1,isAuthenticated:!1,errorLogin:"",onUserCreated:!1,isDrawerOpen:!0,isFooterHidden:!1,imageClickedTitle:"",anchorEl:null,amountAll:0})},a.onFilterButtonsStateHandler=function(e){a.setState(function(t){var n=Object(m.a)({},a.state.filterButtonsState);return n[e]=!t.filterButtonsState[e],{filterButtonsState:n}})},a.onDrawerOpenHandler=function(){a.state.imageClickedTitle||a.setState(function(e){return{isDrawerOpen:!e.isDrawerOpen}})},a.onImageClickedTitleHandler=function(e){a.setState({imageClickedTitle:e})},a.imageLargeCloseHandler=function(){a.setState({imageClickedTitle:""})},a.onMenuClickHandler=function(e){a.setState({anchorEl:e})},a.onMenuCloseHandler=function(){a.setState({anchorEl:null})},a.onCheckoutReleaseHandler=function(){a.setState({isCheckout:!0})},a.onAmountSelectedHandler=function(e){e!==a.state.amountSelected&&a.setState({amountSelected:e})},a.onCheckoutCloseHandler=function(){a.setState({isCheckout:!1})},a.onAuthenticationHandler=function(){a.setState({isAuthenticated:!0})},a.allImagesTitlesHandler=function(){return a.state.imagesDataObj?Object.keys(a.state.imagesDataObj).join('", "'):""},a.onModalSpinnerHandler=function(e){a.setState({isModalSpinner:e})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){if(!1===this.state.filterButtonsState.greenClicked&&!1===this.state.filterButtonsState.blueClicked&&!1===this.state.filterButtonsState.redClicked&&!1===this.state.filterButtonsState.orangeClicked&&this.setState({filterButtonsState:{greenClicked:!1,blueClicked:!1,redClicked:!0,orangeClicked:!1}}),this.state.imagesDataObj&&null!==this.state.imagesDataObj){var e=Object.keys(this.state.imagesDataObj).length;e!==this.state.amountAll&&this.setState({amountAll:e})}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=null,n=null,r=null,o=null,s=null,l=null,c=null,u=null;return this.state.isAdminLogin&&(a=i.a.createElement(i.a.Fragment,null,i.a.createElement(le,{logout:function(t){return e.onLogoutHandler(t)},selectedfiles:function(t){return e.setState({selectedfiles:t})},uploadSelectedImages:this.state.selectedfiles,isButtonDisabled:this.state.isButtonDisabled,disableButton:this.disableUploadButtonHandler,freePicturesAmount:this.state.freePicturesAmount,changeFreePicturesAmount:this.changeFreePicturesAmountHandler,discountProcent:this.state.discountProcent,changeDiscountValue:this.changeDiscountValueHandler,picturePrice:this.state.picturePrice,changePicturePrice:this.changepicturePriceHandler,imagesAmount:this.state.imagesDataObj?Object.keys(this.state.imagesDataObj).length:0,adminLogin:function(){return e.setState({isAdminLogin:!0})},onChangeUserName:function(t){return e.setState({userName:t,createUserLogin:t})},imagesDataObj:function(t){return e.setState({imagesDataObj:t})},loginClicked:function(){return e.setState({isLoginClicked:!1})},userName:this.state.userName,onUserCreated:function(){return e.setState({isUserCreated:!0})},isUserCreated:this.state.isUserCreated}))),this.state.isAuthenticated&&(n=i.a.createElement(i.a.Fragment,null,i.a.createElement(he,{buttonLogout:function(t){return e.onLogoutHandler(t)},imagesDataObj:this.state.imagesDataObj,onFilterButtonsState:this.onFilterButtonsStateHandler,filterButtonsState:this.state.filterButtonsState,userName:this.state.userName,freePicturesAmount:this.state.freePicturesAmount,discountProcent:this.state.discountProcent,picturePrice:this.state.picturePrice,onLogoutHandler:this.onLogoutHandler,isDrawerOpen:this.state.isDrawerOpen,amountAll:this.state.amountAll,isCheckout:this.state.isCheckout,onAmountSelected:this.onAmountSelectedHandler,allImagesTitles:this.allImagesTitlesHandler}))),this.state.isAdminLogin||this.state.isAuthenticated||(r=i.a.createElement(Z,{onLogin:this.onLoginClickedHandler,adminLogin:function(){return e.setState({isAdminLogin:!0})},loginClicked:function(){return e.setState({isLoginClicked:!1})},onChangeUserName:function(t){return e.setState({userName:t})},isCreateUserLogin:this.state.createUserLogin,isAuthenticated:this.onAuthenticationHandler,onLoginDataPass:function(t,a,n,i){return e.onLoginDataPass(t,a,n,i)}})),(this.state.isAdminLogin||this.state.isAuthenticated)&&(o=i.a.createElement(je,{onMenuOpen:function(t){return e.onMenuClickHandler(t)},onMenuClose:function(){return e.onMenuCloseHandler()},isMenuOpen:this.state.anchorEl,userName:this.state.userName,imagesDataObj:this.state.imagesDataObj,onLogoutHandler:this.onLogoutHandler,isAdminLogin:this.state.isAdminLogin,onCheckoutRelease:this.onCheckoutReleaseHandler,onCheckoutClose:this.onCheckoutCloseHandler,isCheckout:this.state.isCheckout})),this.state.isAuthenticated&&(l=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.iconCaptionFilterContainer},i.a.createElement("div",{className:t.iconCaptionContainer},i.a.createElement(Re.a,{color:"primary"}),i.a.createElement(E.y,{className:t.iconCaption,variant:"caption"},"ZDJ\u0118CIA")),i.a.createElement(E.b,{className:[t.avatar,t.bgPrimary].join(" ")},i.a.createElement(E.y,{className:t.white,variant:"caption"},this.state.amountAll))))),this.state.isCheckout||(c=i.a.createElement(V,{images:this.state.picturesPaths,titles:this.state.picturesTitles,imagesDataObj:this.state.imagesDataObj,userName:this.state.userName,filterButtonsState:this.state.filterButtonsState,reset:this.state.reset,isAdminLogin:this.state.isAdminLogin,onImageClick:this.onImageClickedTitleHandler,onHideMenu:this.onDrawerOpenHandler,isDrawerOpen:this.state.isDrawerOpen,isImageLarge:this.state.imageClickedTitle,ImageClickedTitle:this.state.imageClickedTitle,onImageLargeClose:this.imageLargeCloseHandler,onModalSpinner:this.onModalSpinnerHandler})),!this.state.isAuthenticated||this.state.imageClickedTitle||this.state.isCheckout||(s=i.a.createElement(E.m,{onClick:this.onDrawerOpenHandler,size:"small",className:t.fab},this.state.isDrawerOpen?i.a.createElement(He.a,null):i.a.createElement(Te.a,null))),this.state.isAuthenticated||(u=i.a.createElement(E.a,{className:t.footer,position:"static",color:"default"},i.a.createElement(E.x,{className:t.toolbar__footer},i.a.createElement(ze.a,{className:t.icon}),i.a.createElement(E.y,{variant:"caption",color:"inherit"},"2019 Marcin Delektowski")))),console.count("MAINVIEW"),i.a.createElement(i.a.Fragment,null,i.a.createElement(q,null,i.a.createElement("div",{className:this.state.isModalSpinner?t.modal:null},i.a.createElement(xe,{isModalSpinner:this.state.isModalSpinner}),i.a.createElement("header",null,s,i.a.createElement(E.l,{transitionDuration:500,variant:"persistent",anchor:"left",open:this.state.isDrawerOpen,classes:{paper:t.drawerPaperMenu}},i.a.createElement(E.a,{className:t.header,position:"static",color:"default"},i.a.createElement(E.x,{className:t.toolbar__header},i.a.createElement("div",null,i.a.createElement(E.y,{className:t.appTitle,variant:"overline",color:"inherit"},"Peek"),i.a.createElement(E.y,{className:t.appTitle,variant:"overline",color:"inherit"},"Pick"),i.a.createElement(E.y,{className:t.appTitle,variant:"overline",color:"inherit"},"Pic")),l,null,i.a.createElement("div",{className:t.menuLoginContainer},i.a.createElement("div",{className:t.icon__loginContainer},i.a.createElement(Be.a,{className:t.icon__login}),i.a.createElement(E.y,{variant:"caption"},this.state.userName)),o))))),i.a.createElement("main",null,i.a.createElement("div",{className:t.mainView},i.a.createElement("section",null,i.a.createElement(_e.a,{path:"/confirmation",render:function(){return i.a.createElement(Pe,{open:!0})}}),this.state.errorLogin?i.a.createElement("p",null,this.state.errorLogin):null,i.a.createElement(_e.a,{path:"/",exact:!0,render:function(){return r}})),i.a.createElement("section",null,a),i.a.createElement("section",null,i.a.createElement(E.l,{transitionDuration:500,variant:"persistent",anchor:"left",open:this.state.isDrawerOpen,classes:{paper:[t.drawerPaper,this.state.isAdminLogin?t.zindexNegative:null].join(" ")}},i.a.createElement(E.v,null,n))),i.a.createElement("section",null,c))),i.a.createElement("footer",null,u))))}}]),t}(n.Component),We=Object(k.withStyles)({mainView:{},header:{background:"whitesmoke",display:"flex",alignItems:"center",justifyContent:"space-between",position:"fixed",height:60,paddingLeft:"13%",zIndex:1e5},icon:{fontSize:"1rem",marginRight:"2%"},toolbar__header:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},footer:{background:"whitesmoke",height:20,display:"flex",alignItems:"center",justifyContent:"center",position:"fixed",bottom:0},toolbar__footer:{display:"flex",width:300,alignItems:"center",justifyContent:"center"},icon__loginContainer:{display:"flex",flexDirection:"column",alignItems:"center"},icon__login:{marginLeft:"5%"},appTitle:{lineHeight:1.2,letterSpacing:3,fontSize:".5rem"},fab:{position:"fixed",left:"2%",zIndex:1e4,top:"1%"},drawerPaper:{width:"100%",height:160,overflow:"visible",border:0,background:"rgba(0, 0, 0, 0)",zIndex:1e3},drawerPaperMenu:{width:"100%",height:60,overflow:"visible",border:0,background:"rgba(0, 0, 0, 0)"},menuLoginContainer:{display:"flex",justifyContent:"center",alignItems:"center"},iconCaptionFilterContainer:{display:"flex",flexDirection:"row",alignItems:"center"},iconCaptionContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:40},avatar:{height:30,width:30},bgPrimary:{background:"rgb(48, 63, 159)"},white:{color:"white"},iconCaption:{fontSize:".56rem",color:"rgb(48, 63, 159)"},zindexNegative:{zIndex:-1},route:{background:"green",width:200,height:100},modal:{zIndex:200,width:"100%",height:"100%",position:"fixed",background:"rgba(114, 114, 114, 0)",pointerEvents:"none",overflow:"hidden"}})(Ge),Ve=a(96),Ke=a.n(Ve),Ze=a(507),Ye=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ke.a,null),i.a.createElement(Ze.a,{basename:"/images-upload"},i.a.createElement(We,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.initializeApp({apiKey:"AIzaSyAUKm2cb6xXRKoIi6lUsrJkSARfzYryXNk",authDomain:"peekpickpic.firebaseapp.com",databaseURL:"https://peekpickpic.firebaseio.com",projectId:"peekpickpic",storageBucket:"peekpickpic.appspot.com",messagingSenderId:"39879741826"}),o.a.render(i.a.createElement(Ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[287,2,1]]]);
//# sourceMappingURL=main.8b36d8bd.chunk.js.map