(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(61),c=a.n(r),i=(a(69),a(12)),l=a(13),s=a(16),u=a(14),m=a(17),_=a(63),p=a(62),d=a(30),g=a.n(d),b=a(45),f=a.n(b),h=function(e){return o.a.createElement("button",{onClick:e.clicked,className:[f.a.Button,f.a[e.buttonColor]].join(" ")},e.buttonText)},C=a(23),k=a.n(C),v=function(e){return o.a.createElement("div",{className:[k.a.ImageContainer,"green"===e.containerColor?k.a.ImageContainer__green:null,"blue"===e.containerColor?k.a.ImageContainer__blue:null,"red"===e.containerColor?k.a.ImageContainer__red:null].join(" ")},e.children)},I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={buttonGreenClicked:!1,buttonBlueClicked:!1,buttonRedClicked:!1,containerColor:""},a.buttonClickHandler=function(e){switch(e){case"green":a.setState({containerColor:"green"});break;case"blue":a.setState({containerColor:"blue"});break;case"red":a.setState({containerColor:"red"})}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v,{containerColor:this.state.containerColor},o.a.createElement("figure",null,o.a.createElement("img",{className:g.a.Image,src:this.props.src,alt:this.props.caption[0]}),o.a.createElement("figcaption",{className:g.a.Image__title},this.props.caption[0])),o.a.createElement("div",{className:g.a.Image__selectionButtons},o.a.createElement(h,{clicked:function(){return e.buttonClickHandler("green")},buttonText:"Tak",buttonColor:"Button__green"}),o.a.createElement(h,{clicked:function(){return e.buttonClickHandler("blue")},buttonText:"Mo\u017ce",buttonColor:"Button__blue"}),o.a.createElement(h,{clicked:function(){return e.buttonClickHandler("red")},buttonText:"Nie",buttonColor:"Button__red"}))))}}]),t}(n.Component),j=function(e){var t=e.images,a=e.titles,n=e.picturesDataObj,r=a.reduce(function(e,a){var n=t.filter(function(e){return new RegExp(a,"g").test(e)});return e.concat(Object(p.a)({},a,n[0]))},[]).map(function(e){return o.a.createElement(I,{key:Object.keys(e),src:Object.values(e),caption:Object.keys(e),picturesDataObj:n})});return o.a.createElement(o.a.Fragment,null,r)},B=a(8),E=a.n(B),O=(a(60),a(59),a(46)),y=a.n(O),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={userName:"Marcin",picturesPaths:[],picturesTitles:[],pictureDataObj:null,selectedfiles:null,inputValue:""},a.selectImageHandler=function(e){a.setState({selectedfiles:e.target.files})},a.uploadHandler=function(){var e=a.state.selectedfiles,t={contentType:"image/jpeg"},n=E.a.storage().ref();Object(_.a)(e).forEach(function(e,o){var r=n.child("images/"+e.name).put(e,t);r.on(E.a.storage.TaskEvent.STATE_CHANGED,function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload ("+o+") is: "+Math.round(t)+"%")},function(e){switch(e.code){case"storage/unauthorized":console.log("No permission");break;case"storage/canceled":console.log("Stopped upload");break;case"storage/unknown":console.log("Unknown error")}},function(){var e=r.snapshot.ref.name.replace(".jpg","");console.log(e),r.snapshot.ref.getDownloadURL().then(function(t){E.a.database().ref(a.state.userName+"/").child(e).set({path:t,selectYes:!1,selectMaybe:!1,selectNot:!1})})})})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.database().ref().child(this.state.userName).on("value",function(t){var a=Object.keys(t.val()),n=[],o=t.val();for(var r in t.val()){var c=t.val()[r].path;n.push(c)}e.setState({picturesTitles:a,picturesPaths:n,picturesDataObj:o})})}},{key:"render",value:function(){return o.a.createElement("div",{className:y.a.Uploader},o.a.createElement("h1",null,this.state.userName),o.a.createElement("input",{type:"file",multiple:!0,onChange:this.selectImageHandler}),o.a.createElement("button",{onClick:this.uploadHandler},"Upload"),o.a.createElement("div",{className:y.a.Uploader__imagesContainer},o.a.createElement(j,{images:this.state.picturesPaths,titles:this.state.picturesTitles,picturesDataObj:this.state.picturesDataObj})))}}]),t}(n.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(w,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));E.a.initializeApp({apiKey:"AIzaSyB05MIkrZq52LQIiRrC1nFsUp7hkBG3odc",authDomain:"upload-images-69afc.firebaseapp.com",databaseURL:"https://upload-images-69afc.firebaseio.com",projectId:"upload-images-69afc",storageBucket:"upload-images-69afc.appspot.com",messagingSenderId:"419462563824"}),c.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},23:function(e,t,a){e.exports={ImageContainer:"ImageContainer_ImageContainer__3h35j",ImageContainer__green:"ImageContainer_ImageContainer__green__3X58B",ImageContainer__blue:"ImageContainer_ImageContainer__blue__3NS-X",ImageContainer__red:"ImageContainer_ImageContainer__red__27ku3"}},30:function(e,t,a){e.exports={Image:"Image_Image__32NJ5",Image__title:"Image_Image__title__mJyad",Image__selectionButtons:"Image_Image__selectionButtons__34cpW"}},45:function(e,t,a){e.exports={Button:"Button_Button__chNl1",Button__green:"Button_Button__green__2BtT-",Button__blue:"Button_Button__blue__1SR39",Button__red:"Button_Button__red__2b8Pk"}},46:function(e,t,a){e.exports={Uploader:"Uploader_Uploader__39k2Q",Uploader__imagesContainer:"Uploader_Uploader__imagesContainer__2bLa3"}},64:function(e,t,a){e.exports=a(124)},69:function(e,t,a){}},[[64,2,1]]]);
//# sourceMappingURL=main.8b386e97.chunk.js.map